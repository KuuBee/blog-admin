<page-header title="更新文章"></page-header>

<mat-card>
  <mat-card-content>
    <form [formGroup]="articleForm">
      <p>
        <mat-form-field>
          <mat-label>文章标题</mat-label>
          <input required matInput cdkFocusInitial formControlName="title" />
          <mat-error>此项必填</mat-error>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field>
          <mat-label>分类</mat-label>
          <mat-select required formControlName="classificationId">
            <mat-option *ngFor="let item of classificationIndex" [value]="item.id">
              {{ item.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field>
          <mat-label>标签</mat-label>
          <mat-select required formControlName="tagId" multiple>
            <mat-option *ngFor="let item of tagIndex" [value]="item.id">
              {{ item.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field>
          <mat-label>文章压缩包</mat-label>
          <ngx-mat-file-input required formControlName="file" accept=".zip"></ngx-mat-file-input>
          <mat-icon matSuffix>folder</mat-icon>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field>
          <mat-label>简介</mat-label>
          <textarea required matInput cdkFocusInitial formControlName="introduction"></textarea>
          <mat-error>此项必填</mat-error>
        </mat-form-field>
      </p>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button [disabled]="articleForm.invalid" mat-raised-button color="primary" (click)="submit()">
      更新
    </button>
  </mat-card-actions>
</mat-card>